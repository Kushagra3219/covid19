{% extends "base.html" %}

{% block css %}
<link rel="stylesheet" href="../static/patients.css" />
{% endblock %}

{% block body %}


<!-- <div class="table-div">
  lorem200
</div> -->

<div class=" table-div">
  <table>
    <thead>
      <tr>
        <th>Serial No.</th>
        <th>Name</th>
        <th>Age</th>
        <th>Gender</th>
        <th>Contacts</th>
        <th>Address</th>
        <th>Medical History</th>
      </tr>
    </thead>
    <tbody id="patients-table">
      <!-- Existing patient rows -->
      {% for patient in patients %}
      <tr>
        <td>{{ patient[0] }}</td>
        <td>{{ patient[1] }}</td>
        <td>{{ patient[2] }}</td>
        <td>{{ patient[3] }}</td>
        <td>{{ patient[4] }}</td>
        <td>{{ patient[5] }}</td>
        <td>{{ patient[6] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<div class=" table-div">


  <form action="/add_patient" method="POST">
    <table id="add-patient-form">
      <tr>
        <td><input type="number" name="ID" /></td>
        <td><input type="text" name="Name" /></td>
        <td><input type="number" name="Age" /></td>
        <td><input type="text" name="Gender" /></td>
        <td><input type="text" name="ContactDetails" /></td>
        <td><input type="text" name="Address" /></td>
        <td><input type="text" name="MedicalHistory" /></td>
        <td><button type="submit">Add Patient</button></td>
      </tr>
    </table>
  </form>
</div>
{% endblock %}

{% block script %}
<script>
  document
    .getElementById("add-patient-btn")
    .addEventListener("click", function () {
      var newRow =
        "<tr>" +
        '<td><input type="number" name="serial_number"></td>' +
        '<td><input type="text" name="Name"></td>' +
        '<td><input type="number" name="Age"></td>' +
        '<td><input type="text" name="Gender"></td>' +
        '<td><input type="text" name="ContactDetails"></td>' +
        '<td><input type="text" name="Address"></td>' +
        '<td><input type="text" name="MedicalHistory"></td>' +
        "</tr>";
      document
        .getElementById("patients-table")
        .insertAdjacentHTML("beforeend", newRow);
    });
</script>
{% endblock %}